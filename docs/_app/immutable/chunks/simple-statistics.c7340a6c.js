function b(r){var e,o,n=r.length;if(n===1)e=0,o=r[0][1];else{for(var a=0,t=0,l=0,f=0,i,s,v,u=0;u<n;u++)i=r[u],s=i[0],v=i[1],a+=s,t+=v,l+=s*s,f+=s*v;e=(n*f-a*t)/(n*l-a*a),o=t/n-e*a/n}return{m:e,b:o}}function m(r){if(r.length===0)return 0;var e=r[0],o=0,n;if(typeof e!="number")return NaN;for(var a=1;a<r.length;a++){if(typeof r[a]!="number")return NaN;n=e+r[a],Math.abs(e)>=Math.abs(r[a])?o+=e-n+r[a]:o+=r[a]-n+e,e=n}return e+o}function h(r){if(r.length===0)throw new Error("mean requires at least one data point");return m(r)/r.length}function g(r,e){var o=h(r),n=0,a,t;if(e===2)for(t=0;t<r.length;t++)a=r[t]-o,n+=a*a;else for(t=0;t<r.length;t++)n+=Math.pow(r[t]-o,e);return n}function p(r,e){if(r.length!==e.length)throw new Error("sampleCovariance requires samples with equal lengths");if(r.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var o=h(r),n=h(e),a=0,t=0;t<r.length;t++)a+=(r[t]-o)*(e[t]-n);var l=r.length-1;return a/l}function w(r){if(r.length<2)throw new Error("sampleVariance requires at least two data points");var e=g(r,2),o=r.length-1;return e/o}function c(r){var e=w(r);return Math.sqrt(e)}function d(r,e){var o=p(r,e),n=c(r),a=c(e);return o/n/a}export{b as l,d as s};
