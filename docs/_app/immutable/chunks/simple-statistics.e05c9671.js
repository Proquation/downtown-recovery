function b(e){var r,o,t=e.length;if(t===1)r=0,o=e[0][1];else{for(var a=0,n=0,s=0,f=0,i,l,v,u=0;u<t;u++)i=e[u],l=i[0],v=i[1],a+=l,n+=v,s+=l*l,f+=l*v;r=(t*f-a*n)/(t*s-a*a),o=n/t-r*a/t}return{m:r,b:o}}function g(e){if(e.length===0)return 0;var r=e[0],o=0,t;if(typeof r!="number")return NaN;for(var a=1;a<e.length;a++){if(typeof e[a]!="number")return NaN;t=r+e[a],Math.abs(r)>=Math.abs(e[a])?o+=r-t+e[a]:o+=e[a]-t+r,r=t}return r+o}function h(e){if(e.length===0)throw new Error("mean requires at least one data point");return g(e)/e.length}function m(e,r){var o=h(e),t=0,a,n;if(r===2)for(n=0;n<e.length;n++)a=e[n]-o,t+=a*a;else for(n=0;n<e.length;n++)t+=Math.pow(e[n]-o,r);return t}function p(e,r){if(e.length!==r.length)throw new Error("sampleCovariance requires samples with equal lengths");if(e.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var o=h(e),t=h(r),a=0,n=0;n<e.length;n++)a+=(e[n]-o)*(r[n]-t);var s=e.length-1;return a/s}function w(e){if(e.length<2)throw new Error("sampleVariance requires at least two data points");var r=m(e,2),o=e.length-1;return r/o}function c(e){var r=w(e);return Math.sqrt(r)}function d(e,r){var o=p(e,r),t=c(e),a=c(r);return o/t/a}export{b as l,d as s};
