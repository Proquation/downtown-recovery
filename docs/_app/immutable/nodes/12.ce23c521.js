import{S as jt,i as Zt,s as Xt,F as Lr,k as R,a as ce,l as P,m as E,c as he,h as w,n as s,T as ve,b as V,C as T,L as Oe,G as qr,H as Or,I as Ir,g as pe,d as Ue,M as Le,E as Lt,o as Qt,q as $,r as ee,p as rt,u as We,N as B,O as z,U as hn,R as hr,V as Wr,w as gn,D as qt,y as _t,e as we,z as pt,P as Rr,A as yt,Q as Pr,f as gr,B as vt,v as mr}from"../chunks/index.a4677e45.js";import{H as Vr}from"../chunks/global.7be9bc19.js";import{r as dr,d as _r,e as lt,c as Br}from"../chunks/csv.a309fd1d.js";const zr=!0,To=Object.freeze(Object.defineProperty({__proto__:null,prerender:zr},Symbol.toStringTag,{value:"Module"}));function mn(e,t,n){const r=e.slice();return r[29]=t[n],r}function dn(e,t,n){const r=e.slice();return r[32]=t[n],r}function _n(e){let t,n,r,i;return{c(){t=R("div"),n=B("svg"),r=B("path"),this.h()},l(l){t=P(l,"DIV",{class:!0,title:!0});var o=E(t);n=z(o,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var a=E(n);r=z(a,"path",{d:!0,class:!0}),E(r).forEach(w),a.forEach(w),o.forEach(w),this.h()},h(){s(r,"d",pr),s(r,"class","svelte-1qc8ssl"),s(n,"class","icon-clear svelte-1qc8ssl"),s(n,"xmlns","http://www.w3.org/2000/svg"),s(n,"width","18"),s(n,"height","18"),s(n,"viewBox","0 0 24 24"),s(t,"class","token-remove svelte-1qc8ssl"),s(t,"title",i="Remove "+e[32].name)},m(l,o){V(l,t,o),T(t,n),T(n,r)},p(l,o){o[0]&32&&i!==(i="Remove "+l[32].name)&&s(t,"title",i)},d(l){l&&w(t)}}}function pn(e){let t,n,r=e[32].name+"",i,l,o,a=!e[1]&&_n(e);return{c(){t=R("div"),n=R("span"),i=$(r),l=ce(),a&&a.c(),this.h()},l(u){t=P(u,"DIV",{class:!0,"data-id":!0,style:!0});var f=E(t);n=P(f,"SPAN",{});var c=E(n);i=ee(c,r),c.forEach(w),l=he(f),a&&a.l(f),f.forEach(w),this.h()},h(){s(t,"class","token svelte-1qc8ssl"),s(t,"data-id",o=e[32].value),rt(t,"background-color",e[11](e[32].value)),rt(t,"color",e[12](e[32].value))},m(u,f){V(u,t,f),T(t,n),T(n,i),T(t,l),a&&a.m(t,null)},p(u,f){f[0]&32&&r!==(r=u[32].name+"")&&We(i,r),u[1]?a&&(a.d(1),a=null):a?a.p(u,f):(a=_n(u),a.c(),a.m(t,null)),f[0]&32&&o!==(o=u[32].value)&&s(t,"data-id",o),f[0]&32&&rt(t,"background-color",u[11](u[32].value)),f[0]&32&&rt(t,"color",u[12](u[32].value))},d(u){u&&w(t),a&&a.d()}}}function yn(e){let t,n,r,i,l,o,a,u,f,c;return{c(){t=R("input"),n=ce(),r=R("div"),i=B("svg"),l=B("path"),o=ce(),a=B("svg"),u=B("path"),this.h()},l(h){t=P(h,"INPUT",{id:!0,autocomplete:!0,placeholder:!0,class:!0}),n=he(h),r=P(h,"DIV",{class:!0,title:!0});var g=E(r);i=z(g,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var m=E(i);l=z(m,"path",{d:!0,class:!0}),E(l).forEach(w),m.forEach(w),g.forEach(w),o=he(h),a=z(h,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var p=E(a);u=z(p,"path",{d:!0,class:!0}),E(u).forEach(w),p.forEach(w),this.h()},h(){s(t,"id",e[0]),s(t,"autocomplete","off"),s(t,"placeholder",e[2]),s(t,"class","svelte-1qc8ssl"),s(l,"d",pr),s(l,"class","svelte-1qc8ssl"),s(i,"class","icon-clear svelte-1qc8ssl"),s(i,"xmlns","http://www.w3.org/2000/svg"),s(i,"width","18"),s(i,"height","18"),s(i,"viewBox","0 0 24 24"),s(r,"class","remove-all svelte-1qc8ssl"),s(r,"title","Remove All"),ve(r,"hidden",!Object.keys(e[5]).length),s(u,"d","M5 8l4 4 4-4z"),s(u,"class","svelte-1qc8ssl"),s(a,"class","dropdown-arrow svelte-1qc8ssl"),s(a,"xmlns","http://www.w3.org/2000/svg"),s(a,"width","18"),s(a,"height","18"),s(a,"viewBox","0 0 18 18")},m(h,g){V(h,t,g),hn(t,e[3]),e[22](t),V(h,n,g),V(h,r,g),T(r,i),T(i,l),V(h,o,g),V(h,a,g),T(a,u),f||(c=[Oe(t,"input",e[21]),Oe(t,"keyup",e[10]),Oe(t,"blur",e[13])],f=!0)},p(h,g){g[0]&1&&s(t,"id",h[0]),g[0]&4&&s(t,"placeholder",h[2]),g[0]&8&&t.value!==h[3]&&hn(t,h[3]),g[0]&32&&ve(r,"hidden",!Object.keys(h[5]).length)},d(h){h&&w(t),e[22](null),h&&w(n),h&&w(r),h&&w(o),h&&w(a),f=!1,hr(c)}}}function vn(e){let t,n,r,i=e[6],l=[];for(let o=0;o<i.length;o+=1)l[o]=wn(mn(e,i,o));return{c(){t=R("ul");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){t=P(o,"UL",{class:!0});var a=E(t);for(let u=0;u<l.length;u+=1)l[u].l(a);a.forEach(w),this.h()},h(){s(t,"class","options svelte-1qc8ssl")},m(o,a){V(o,t,a);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(t,null);n||(r=Oe(t,"mousedown",Wr(e[15])),n=!0)},p(o,a){if(a[0]&112){i=o[6];let u;for(u=0;u<i.length;u+=1){const f=mn(o,i,u);l[u]?l[u].p(f,a):(l[u]=wn(f),l[u].c(),l[u].m(t,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=i.length}},d(o){o&&w(t),Le(l,o),n=!1,r()}}}function wn(e){let t,n=e[29].name+"",r,i;return{c(){t=R("li"),r=$(n),this.h()},l(l){t=P(l,"LI",{"data-value":!0,class:!0});var o=E(t);r=ee(o,n),o.forEach(w),this.h()},h(){s(t,"data-value",i=e[29].value),s(t,"class","svelte-1qc8ssl"),ve(t,"selected",e[5][e[29].value]),ve(t,"active",e[4]===e[29])},m(l,o){V(l,t,o),T(t,r)},p(l,o){o[0]&64&&n!==(n=l[29].name+"")&&We(r,n),o[0]&64&&i!==(i=l[29].value)&&s(t,"data-value",i),o[0]&96&&ve(t,"selected",l[5][l[29].value]),o[0]&80&&ve(t,"active",l[4]===l[29])},d(l){l&&w(t)}}}function jr(e){let t,n,r,i,l,o,a,u,f,c,h=Object.values(e[5]),g=[];for(let b=0;b<h.length;b+=1)g[b]=pn(dn(e,h,b));let m=!e[1]&&yn(e);const p=e[20].default,_=Lr(p,e,e[19],null);let v=e[8]&&vn(e);return{c(){t=R("div"),n=R("div");for(let b=0;b<g.length;b+=1)g[b].c();r=ce(),i=R("div"),m&&m.c(),l=ce(),o=R("select"),_&&_.c(),a=ce(),v&&v.c(),this.h()},l(b){t=P(b,"DIV",{class:!0});var C=E(t);n=P(C,"DIV",{class:!0});var D=E(n);for(let U=0;U<g.length;U+=1)g[U].l(D);r=he(D),i=P(D,"DIV",{class:!0});var q=E(i);m&&m.l(q),q.forEach(w),D.forEach(w),l=he(C),o=P(C,"SELECT",{type:!0,class:!0});var J=E(o);_&&_.l(J),J.forEach(w),a=he(C),v&&v.l(C),C.forEach(w),this.h()},h(){s(i,"class","actions svelte-1qc8ssl"),s(n,"class","tokens svelte-1qc8ssl"),ve(n,"showOptions",e[8]),s(o,"type","multiple"),s(o,"class","hidden svelte-1qc8ssl"),s(t,"class","multiselect svelte-1qc8ssl"),ve(t,"readonly",e[1])},m(b,C){V(b,t,C),T(t,n);for(let D=0;D<g.length;D+=1)g[D]&&g[D].m(n,null);T(n,r),T(n,i),m&&m.m(i,null),T(t,l),T(t,o),_&&_.m(o,null),e[23](o),T(t,a),v&&v.m(t,null),u=!0,f||(c=Oe(n,"click",e[14]),f=!0)},p(b,C){if(C[0]&6178){h=Object.values(b[5]);let D;for(D=0;D<h.length;D+=1){const q=dn(b,h,D);g[D]?g[D].p(q,C):(g[D]=pn(q),g[D].c(),g[D].m(n,r))}for(;D<g.length;D+=1)g[D].d(1);g.length=h.length}b[1]?m&&(m.d(1),m=null):m?m.p(b,C):(m=yn(b),m.c(),m.m(i,null)),(!u||C[0]&256)&&ve(n,"showOptions",b[8]),_&&_.p&&(!u||C[0]&524288)&&qr(_,p,b,b[19],u?Ir(p,b[19],C,null):Or(b[19]),null),b[8]?v?v.p(b,C):(v=vn(b),v.c(),v.m(t,null)):v&&(v.d(1),v=null),(!u||C[0]&2)&&ve(t,"readonly",b[1])},i(b){u||(pe(_,b),u=!0)},o(b){Ue(_,b),u=!1},d(b){b&&w(t),Le(g,b),m&&m.d(),_&&_.d(b),e[23](null),v&&v.d(),f=!1,c()}}}const pr="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z";function Zr(e,t,n){let r,i;Lt(e,dr,M=>n(24,i=M));let{$$slots:l={},$$scope:o}=t,{id:a=""}=t,{value:u=[]}=t,{readonly:f=!1}=t,{placeholder:c="Select cities..."}=t,h,g,m=[],p,_=!1,v={},b=!0,C;const D=i;Qt(()=>{C.querySelectorAll("option").forEach(M=>{M.selected&&!u.includes(M.value)&&n(16,u=[...u,M.value]),n(17,m=[...m,{value:M.value,name:M.textContent}])}),u&&n(5,v=m.reduce((M,X)=>u.includes(X.value)?{...M,[X.value]:X}:M,{})),n(18,b=!1)});function q(M){f||n(5,v[M.value]=M,v)}function J(M){if(!f){const{[M]:X,...A}=v;n(5,v=A)}}function U(M){f||(typeof M=="boolean"?(n(8,_=M),M&&h.focus()):n(8,_=!_),_||n(4,p=void 0))}function Z(M){if(M.keyCode===13&&(Object.keys(v).includes(p.value)?J(p.value):q(p),n(3,g="")),[38,40].includes(M.keyCode)){const X=M.keyCode===38?-1:1,A=r.indexOf(p)+X;n(4,p=A<0?r[r.length-1]:A===r.length?r[0]:r[A])}}function le(M){return D.find(X=>X.name===lt.filter(A=>A.display_title===M)[0].region).colour}function Me(M){return D.find(X=>X.name===lt.filter(A=>A.display_title===M)[0].region).text}function j(M){U(!1)}function me(M){M.target.closest(".token-remove")?(M.stopPropagation(),J(M.target.closest(".token").dataset.id)):M.target.closest(".remove-all")?(n(5,v=[]),n(3,g="")):U(!0)}function oe(M){const X=M.target.dataset.value;v[X]?J(X):(q(m.filter(A=>A.value===X)[0]),h.focus())}function ae(){g=this.value,n(3,g)}function ke(M){gn[M?"unshift":"push"](()=>{h=M,n(7,h)})}function xe(M){gn[M?"unshift":"push"](()=>{C=M,n(9,C)})}return e.$$set=M=>{"id"in M&&n(0,a=M.id),"value"in M&&n(16,u=M.value),"readonly"in M&&n(1,f=M.readonly),"placeholder"in M&&n(2,c=M.placeholder),"$$scope"in M&&n(19,o=M.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&262176&&(b||n(16,u=Object.values(v).map(M=>M.value))),e.$$.dirty[0]&131080&&n(6,r=m.filter(M=>g?M.name.toLowerCase().includes(g.toLowerCase()):M)),e.$$.dirty[0]&88&&(p&&!r.includes(p)||!p&&g)&&n(4,p=r[0]),e.$$.dirty[0]&65536&&_r.set(u)},[a,f,c,g,p,v,r,h,_,C,Z,le,Me,j,me,oe,u,m,b,o,l,ae,ke,xe]}class Xr extends jt{constructor(t){super(),Zt(this,t,Zr,jr,Xt,{id:0,value:16,readonly:1,placeholder:2},null,[-1,-1])}}function bn(e){let t,n;return{c(){t=B("text"),n=$(e[7]),this.h()},l(r){t=z(r,"text",{x:!0,y:!0,"alignment-baseline":!0,"font-size":!0,fill:!0});var i=E(t);n=ee(i,e[7]),i.forEach(w),this.h()},h(){s(t,"x",Ge+3),s(t,"y",De),s(t,"alignment-baseline","middle"),s(t,"font-size","14"),s(t,"fill",e[5])},m(r,i){V(r,t,i),T(t,n)},p(r,i){i&128&&We(n,r[7]),i&32&&s(t,"fill",r[5])},d(r){r&&w(t)}}}function Qr(e){let t,n,r,i,l,o,a,u,f,c=e[3]!==void 0?": "+e[3].toLocaleString():"",h,g,m,p=e[7]!==void 0&&bn(e);return{c(){t=B("svg"),n=B("rect"),p&&p.c(),i=B("g"),l=B("line"),u=B("text"),f=$(e[2]),h=$(c),this.h()},l(_){t=z(_,"svg",{x:!0,y:!0,width:!0,height:!0,id:!0});var v=E(t);n=z(v,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,opacity:!0}),E(n).forEach(w),p&&p.l(v),i=z(v,"g",{});var b=E(i);l=z(b,"line",{x1:!0,x2:!0,y1:!0,y2:!0}),E(l).forEach(w),u=z(b,"text",{x:!0,y:!0,"alignment-baseline":!0,"font-size":!0,fill:!0,class:!0});var C=E(u);f=ee(C,e[2]),h=ee(C,c),C.forEach(w),b.forEach(w),v.forEach(w),this.h()},h(){s(n,"x","1"),s(n,"y","1"),s(n,"width",e[8]),s(n,"height",r=(e[2].length+1+(e[7]!==void 0?1:0))*De),s(n,"fill",e[4]),s(n,"opacity",e[6]),s(l,"x1",Ge),s(l,"x2",Ge+wt),s(l,"y1",o=(1+(e[7]!==void 0?1:0))*De-1),s(l,"y2",a=(1+(e[7]!==void 0?1:0))*De-1),s(u,"x",Ge+wt+Ot),s(u,"y",g=(1+(e[7]!==void 0?1:0))*De),s(u,"alignment-baseline","middle"),s(u,"font-size","14"),s(u,"fill",e[5]),s(u,"class","legend-labels"),s(t,"x",e[0]),s(t,"y",e[1]),s(t,"width",m=e[8]+2),s(t,"height","25"),s(t,"id",yr)},m(_,v){V(_,t,v),T(t,n),p&&p.m(t,null),T(t,i),T(i,l),T(i,u),T(u,f),T(u,h)},p(_,[v]){v&256&&s(n,"width",_[8]),v&132&&r!==(r=(_[2].length+1+(_[7]!==void 0?1:0))*De)&&s(n,"height",r),v&16&&s(n,"fill",_[4]),v&64&&s(n,"opacity",_[6]),_[7]!==void 0?p?p.p(_,v):(p=bn(_),p.c(),p.m(t,i)):p&&(p.d(1),p=null),v&128&&o!==(o=(1+(_[7]!==void 0?1:0))*De-1)&&s(l,"y1",o),v&128&&a!==(a=(1+(_[7]!==void 0?1:0))*De-1)&&s(l,"y2",a),v&4&&We(f,_[2]),v&8&&c!==(c=_[3]!==void 0?": "+_[3].toLocaleString():"")&&We(h,c),v&128&&g!==(g=(1+(_[7]!==void 0?1:0))*De)&&s(u,"y",g),v&32&&s(u,"fill",_[5]),v&1&&s(t,"x",_[0]),v&2&&s(t,"y",_[1]),v&256&&m!==(m=_[8]+2)&&s(t,"width",m)},i:qt,o:qt,d(_){_&&w(t),p&&p.d()}}}const De=18,Ge=5,Mn=5,wt=10,Ot=3,yr="svg-legend";function Gr(e,t,n){let{x:r}=t,{y:i}=t,{labels:l}=t,{values:o}=t,{width:a=150}=t,{backgroundColor:u="white"}=t,{textColor:f="black"}=t,{opacity:c=.89}=t,{title:h}=t,{adaptTexts:g=!0}=t;const m=a-Ge-wt-Ot-Mn;let p=a;return Qt(async()=>{const _=document.getElementById(yr).getElementsByClassName("legend-labels"),b=[...Array(_.length).keys()].map(C=>({id:C,width:_[C].getBoundingClientRect().width})).filter(C=>C.width>m);if(b.length!==0)if(g)b.map(C=>{const D=_[C.id].textContent,q=Math.floor(m*D.length/C.width)-3;_[C.id].textContent=D.slice(0,q).trim()+"..."});else{const C=Math.max(...b.map(D=>D.width));n(8,p=Ge+wt+Ot+C+Mn)}}),e.$$set=_=>{"x"in _&&n(0,r=_.x),"y"in _&&n(1,i=_.y),"labels"in _&&n(2,l=_.labels),"values"in _&&n(3,o=_.values),"width"in _&&n(9,a=_.width),"backgroundColor"in _&&n(4,u=_.backgroundColor),"textColor"in _&&n(5,f=_.textColor),"opacity"in _&&n(6,c=_.opacity),"title"in _&&n(7,h=_.title),"adaptTexts"in _&&n(10,g=_.adaptTexts)},[r,i,l,o,u,f,c,h,p,a,g]}class kn extends jt{constructor(t){super(),Zt(this,t,Gr,Qr,Xt,{x:0,y:1,labels:2,values:3,width:9,backgroundColor:4,textColor:5,opacity:6,title:7,adaptTexts:10})}}function dt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Jr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gt(e){let t,n,r;e.length!==2?(t=dt,n=(a,u)=>dt(e(a),u),r=(a,u)=>e(a)-u):(t=e===dt||e===Jr?e:Kr,n=e,r=e);function i(a,u,f=0,c=a.length){if(f<c){if(t(u,u)!==0)return c;do{const h=f+c>>>1;n(a[h],u)<0?f=h+1:c=h}while(f<c)}return f}function l(a,u,f=0,c=a.length){if(f<c){if(t(u,u)!==0)return c;do{const h=f+c>>>1;n(a[h],u)<=0?f=h+1:c=h}while(f<c)}return f}function o(a,u,f=0,c=a.length){const h=i(a,u,f,c-1);return h>f&&r(a[h-1],u)>-r(a[h],u)?h-1:h}return{left:i,center:o,right:l}}function Kr(){return 0}function $r(e){return e===null?NaN:+e}const ei=Gt(dt),ti=ei.right;Gt($r).center;const ni=ti;function Ut(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let l of e)(l=t(l,++i,e))!=null&&(n===void 0?l>=l&&(n=r=l):(n>l&&(n=l),r<l&&(r=l)))}return[n,r]}class It extends Map{constructor(t,n=li){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(xn(this,t))}has(t){return super.has(xn(this,t))}set(t,n){return super.set(ri(this,t),n)}delete(t){return super.delete(ii(this,t))}}function xn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ri({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ii({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function li(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Tn(e){return e}function oi(e,...t){return ui(e,Tn,Tn,t)}function ui(e,t,n,r){return function i(l,o){if(o>=r.length)return n(l);const a=new It,u=r[o++];let f=-1;for(const c of l){const h=u(c,++f,l),g=a.get(h);g?g.push(c):a.set(h,[c])}for(const[c,h]of a)a.set(c,i(h,o));return t(a)}(e,0)}const ai=Math.sqrt(50),si=Math.sqrt(10),fi=Math.sqrt(2);function vr(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),l=r/Math.pow(10,i),o=l>=ai?10:l>=si?5:l>=fi?2:1;let a,u,f;return i<0?(f=Math.pow(10,-i)/o,a=Math.round(e*f),u=Math.round(t*f),a/f<e&&++a,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*o,a=Math.round(e/f),u=Math.round(t/f),a*f<e&&++a,u*f>t&&--u),u<a&&.5<=n&&n<2?vr(e,t,n*2):[a,u,f]}function Cn(e,t,n){return t=+t,e=+e,n=+n,vr(e,t,n)[2]}function Dn(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Cn(t,e,n):Cn(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Jt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function st(){}var ot=.7,bt=1/ot,Je="\\s*([+-]?\\d+)\\s*",ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",be="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ci=/^#([0-9a-f]{3,8})$/,hi=new RegExp(`^rgb\\(${Je},${Je},${Je}\\)$`),gi=new RegExp(`^rgb\\(${be},${be},${be}\\)$`),mi=new RegExp(`^rgba\\(${Je},${Je},${Je},${ut}\\)$`),di=new RegExp(`^rgba\\(${be},${be},${be},${ut}\\)$`),_i=new RegExp(`^hsl\\(${ut},${be},${be}\\)$`),pi=new RegExp(`^hsla\\(${ut},${be},${be},${ut}\\)$`),Un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jt(st,at,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Sn,formatHex:Sn,formatHex8:yi,formatHsl:vi,formatRgb:Nn,toString:Nn});function Sn(){return this.rgb().formatHex()}function yi(){return this.rgb().formatHex8()}function vi(){return br(this).formatHsl()}function Nn(){return this.rgb().formatRgb()}function at(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ci.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?En(t):n===3?new ge(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?gt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?gt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hi.exec(e))?new ge(t[1],t[2],t[3],1):(t=gi.exec(e))?new ge(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mi.exec(e))?gt(t[1],t[2],t[3],t[4]):(t=di.exec(e))?gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_i.exec(e))?Fn(t[1],t[2]/100,t[3]/100,1):(t=pi.exec(e))?Fn(t[1],t[2]/100,t[3]/100,t[4]):Un.hasOwnProperty(e)?En(Un[e]):e==="transparent"?new ge(NaN,NaN,NaN,0):null}function En(e){return new ge(e>>16&255,e>>8&255,e&255,1)}function gt(e,t,n,r){return r<=0&&(e=t=n=NaN),new ge(e,t,n,r)}function wi(e){return e instanceof st||(e=at(e)),e?(e=e.rgb(),new ge(e.r,e.g,e.b,e.opacity)):new ge}function Wt(e,t,n,r){return arguments.length===1?wi(e):new ge(e,t,n,r??1)}function ge(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Jt(ge,Wt,wr(st,{brighter(e){return e=e==null?bt:Math.pow(bt,e),new ge(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ot:Math.pow(ot,e),new ge(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ge(Ie(this.r),Ie(this.g),Ie(this.b),Mt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yn,formatHex:Yn,formatHex8:bi,formatRgb:An,toString:An}));function Yn(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}`}function bi(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}${qe((isNaN(this.opacity)?1:this.opacity)*255)}`}function An(){const e=Mt(this.opacity);return`${e===1?"rgb(":"rgba("}${Ie(this.r)}, ${Ie(this.g)}, ${Ie(this.b)}${e===1?")":`, ${e})`}`}function Mt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ie(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qe(e){return e=Ie(e),(e<16?"0":"")+e.toString(16)}function Fn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ye(e,t,n,r)}function br(e){if(e instanceof ye)return new ye(e.h,e.s,e.l,e.opacity);if(e instanceof st||(e=at(e)),!e)return new ye;if(e instanceof ye)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),l=Math.max(t,n,r),o=NaN,a=l-i,u=(l+i)/2;return a?(t===l?o=(n-r)/a+(n<r)*6:n===l?o=(r-t)/a+2:o=(t-n)/a+4,a/=u<.5?l+i:2-l-i,o*=60):a=u>0&&u<1?0:o,new ye(o,a,u,e.opacity)}function Mi(e,t,n,r){return arguments.length===1?br(e):new ye(e,t,n,r??1)}function ye(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Jt(ye,Mi,wr(st,{brighter(e){return e=e==null?bt:Math.pow(bt,e),new ye(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ot:Math.pow(ot,e),new ye(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ge(St(e>=240?e-240:e+120,i,r),St(e,i,r),St(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ye(Hn(this.h),mt(this.s),mt(this.l),Mt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mt(this.opacity);return`${e===1?"hsl(":"hsla("}${Hn(this.h)}, ${mt(this.s)*100}%, ${mt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Hn(e){return e=(e||0)%360,e<0?e+360:e}function mt(e){return Math.max(0,Math.min(1,e||0))}function St(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Kt=e=>()=>e;function ki(e,t){return function(n){return e+n*t}}function xi(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ti(e){return(e=+e)==1?Mr:function(t,n){return n-t?xi(t,n,e):Kt(isNaN(t)?n:t)}}function Mr(e,t){var n=t-e;return n?ki(e,n):Kt(isNaN(e)?t:e)}const Ln=function e(t){var n=Ti(t);function r(i,l){var o=n((i=Wt(i)).r,(l=Wt(l)).r),a=n(i.g,l.g),u=n(i.b,l.b),f=Mr(i.opacity,l.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=f(c),i+""}}return r.gamma=e,r}(1);function Ci(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(l){for(i=0;i<n;++i)r[i]=e[i]*(1-l)+t[i]*l;return r}}function Di(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ui(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),l=new Array(n),o;for(o=0;o<r;++o)i[o]=$t(e[o],t[o]);for(;o<n;++o)l[o]=t[o];return function(a){for(o=0;o<r;++o)l[o]=i[o](a);return l}}function Si(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function kt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ni(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=$t(e[i],t[i]):r[i]=t[i];return function(l){for(i in n)r[i]=n[i](l);return r}}var Rt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nt=new RegExp(Rt.source,"g");function Ei(e){return function(){return e}}function Yi(e){return function(t){return e(t)+""}}function Ai(e,t){var n=Rt.lastIndex=Nt.lastIndex=0,r,i,l,o=-1,a=[],u=[];for(e=e+"",t=t+"";(r=Rt.exec(e))&&(i=Nt.exec(t));)(l=i.index)>n&&(l=t.slice(n,l),a[o]?a[o]+=l:a[++o]=l),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:kt(r,i)})),n=Nt.lastIndex;return n<t.length&&(l=t.slice(n),a[o]?a[o]+=l:a[++o]=l),a.length<2?u[0]?Yi(u[0].x):Ei(t):(t=u.length,function(f){for(var c=0,h;c<t;++c)a[(h=u[c]).i]=h.x(f);return a.join("")})}function $t(e,t){var n=typeof t,r;return t==null||n==="boolean"?Kt(t):(n==="number"?kt:n==="string"?(r=at(t))?(t=r,Ln):Ai:t instanceof at?Ln:t instanceof Date?Si:Di(t)?Ci:Array.isArray(t)?Ui:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ni:kt)(e,t)}function Fi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const Pt=Math.PI,Vt=2*Pt,He=1e-6,Hi=Vt-He;function kr(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Li(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kr;const n=10**t;return function(r){this._+=r[0];for(let i=1,l=r.length;i<l;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class qi{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kr:Li(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,l,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+l},${this._y1=+o}`}arcTo(t,n,r,i,l){if(t=+t,n=+n,r=+r,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let o=this._x1,a=this._y1,u=r-t,f=i-n,c=o-t,h=a-n,g=c*c+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>He)if(!(Math.abs(h*u-f*c)>He)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,p=i-a,_=u*u+f*f,v=m*m+p*p,b=Math.sqrt(_),C=Math.sqrt(g),D=l*Math.tan((Pt-Math.acos((_+g-v)/(2*b*C)))/2),q=D/C,J=D/b;Math.abs(q-1)>He&&this._append`L${t+q*c},${n+q*h}`,this._append`A${l},${l},0,0,${+(h*m>c*p)},${this._x1=t+J*u},${this._y1=n+J*f}`}}arc(t,n,r,i,l,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),f=t+a,c=n+u,h=1^o,g=o?i-l:l-i;this._x1===null?this._append`M${f},${c}`:(Math.abs(this._x1-f)>He||Math.abs(this._y1-c)>He)&&this._append`L${f},${c}`,r&&(g<0&&(g=g%Vt+Vt),g>Hi?this._append`A${r},${r},0,1,${h},${t-a},${n-u}A${r},${r},0,1,${h},${this._x1=f},${this._y1=c}`:g>He&&this._append`A${r},${r},0,${+(g>=Pt)},${h},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function xr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const qn=Symbol("implicit");function Tr(){var e=new It,t=[],n=[],r=qn;function i(l){let o=e.get(l);if(o===void 0){if(r!==qn)return r;e.set(l,o=t.push(l)-1)}return n[o%n.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new It;for(const o of l)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(l){return arguments.length?(n=Array.from(l),i):n.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return Tr(t,n).unknown(r)},xr.apply(i,arguments),i}function Oi(e){return function(){return e}}function Ii(e){return+e}var On=[0,1];function Xe(e){return e}function Bt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Oi(isNaN(t)?NaN:.5)}function Wi(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Ri(e,t,n){var r=e[0],i=e[1],l=t[0],o=t[1];return i<r?(r=Bt(i,r),l=n(o,l)):(r=Bt(r,i),l=n(l,o)),function(a){return l(r(a))}}function Pi(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),l=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Bt(e[o],e[o+1]),l[o]=n(t[o],t[o+1]);return function(a){var u=ni(e,a,1,r)-1;return l[u](i[u](a))}}function Vi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bi(){var e=On,t=On,n=$t,r,i,l,o=Xe,a,u,f;function c(){var g=Math.min(e.length,t.length);return o!==Xe&&(o=Wi(e[0],e[g-1])),a=g>2?Pi:Ri,u=f=null,h}function h(g){return g==null||isNaN(g=+g)?l:(u||(u=a(e.map(r),t,n)))(r(o(g)))}return h.invert=function(g){return o(i((f||(f=a(t,e.map(r),kt)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,Ii),c()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),c()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),n=Fi,c()},h.clamp=function(g){return arguments.length?(o=g?!0:Xe,c()):o!==Xe},h.interpolate=function(g){return arguments.length?(n=g,c()):n},h.unknown=function(g){return arguments.length?(l=g,h):l},function(g,m){return r=g,i=m,c()}}function zi(){return Bi()(Xe,Xe)}function ji(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],l=e[r],o;return l<i&&(o=n,n=r,r=o,o=i,i=l,l=o),e[n]=t.floor(i),e[r]=t.ceil(l),e}const Et=new Date,Yt=new Date;function te(e,t,n,r){function i(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return i.floor=l=>(e(l=new Date(+l)),l),i.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),i.round=l=>{const o=i(l),a=i.ceil(l);return l-o<a-l?o:a},i.offset=(l,o)=>(t(l=new Date(+l),o==null?1:Math.floor(o)),l),i.range=(l,o,a)=>{const u=[];if(l=i.ceil(l),a=a==null?1:Math.floor(a),!(l<o)||!(a>0))return u;let f;do u.push(f=new Date(+l)),t(l,a),e(l);while(f<l&&l<o);return u},i.filter=l=>te(o=>{if(o>=o)for(;e(o),!l(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;t(o,-1),!l(o););else for(;--a>=0;)for(;t(o,1),!l(o););}),n&&(i.count=(l,o)=>(Et.setTime(+l),Yt.setTime(+o),e(Et),e(Yt),Math.floor(n(Et,Yt))),i.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?i.filter(r?o=>r(o)%l===0:o=>i.count(0,o)%l===0):i)),i}const xt=te(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xt.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?te(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):xt);xt.range;const Se=1e3,de=Se*60,Ne=de*60,Ee=Ne*24,en=Ee*7,In=Ee*30,At=Ee*365,Qe=te(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Se)},(e,t)=>(t-e)/Se,e=>e.getUTCSeconds());Qe.range;const tn=te(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Se)},(e,t)=>{e.setTime(+e+t*de)},(e,t)=>(t-e)/de,e=>e.getMinutes());tn.range;const Zi=te(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*de)},(e,t)=>(t-e)/de,e=>e.getUTCMinutes());Zi.range;const nn=te(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Se-e.getMinutes()*de)},(e,t)=>{e.setTime(+e+t*Ne)},(e,t)=>(t-e)/Ne,e=>e.getHours());nn.range;const Xi=te(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ne)},(e,t)=>(t-e)/Ne,e=>e.getUTCHours());Xi.range;const ft=te(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*de)/Ee,e=>e.getDate()-1);ft.range;const rn=te(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ee,e=>e.getUTCDate()-1);rn.range;const Qi=te(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ee,e=>Math.floor(e/Ee));Qi.range;function Pe(e){return te(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*de)/en)}const Dt=Pe(0),Tt=Pe(1),Gi=Pe(2),Ji=Pe(3),Ke=Pe(4),Ki=Pe(5),$i=Pe(6);Dt.range;Tt.range;Gi.range;Ji.range;Ke.range;Ki.range;$i.range;function Ve(e){return te(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/en)}const Cr=Ve(0),Ct=Ve(1),el=Ve(2),tl=Ve(3),$e=Ve(4),nl=Ve(5),rl=Ve(6);Cr.range;Ct.range;el.range;tl.range;$e.range;nl.range;rl.range;const ln=te(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ln.range;const il=te(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());il.range;const Ye=te(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ye.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:te(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ye.range;const Re=te(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Re.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:te(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Re.range;function ll(e,t,n,r,i,l){const o=[[Qe,1,Se],[Qe,5,5*Se],[Qe,15,15*Se],[Qe,30,30*Se],[l,1,de],[l,5,5*de],[l,15,15*de],[l,30,30*de],[i,1,Ne],[i,3,3*Ne],[i,6,6*Ne],[i,12,12*Ne],[r,1,Ee],[r,2,2*Ee],[n,1,en],[t,1,In],[t,3,3*In],[e,1,At]];function a(f,c,h){const g=c<f;g&&([f,c]=[c,f]);const m=h&&typeof h.range=="function"?h:u(f,c,h),p=m?m.range(f,+c+1):[];return g?p.reverse():p}function u(f,c,h){const g=Math.abs(c-f)/h,m=Gt(([,,v])=>v).right(o,g);if(m===o.length)return e.every(Dn(f/At,c/At,h));if(m===0)return xt.every(Math.max(Dn(f,c,h),1));const[p,_]=o[g/o[m-1][2]<o[m][2]/g?m-1:m];return p.every(_)}return[a,u]}const[ol,ul]=ll(Ye,ln,Dt,ft,nn,tn);function Ft(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ht(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function et(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function al(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,l=e.days,o=e.shortDays,a=e.months,u=e.shortMonths,f=tt(i),c=nt(i),h=tt(l),g=nt(l),m=tt(o),p=nt(o),_=tt(a),v=nt(a),b=tt(u),C=nt(u),D={a:X,A,b:ne,B:N,c:null,d:zn,e:zn,f:El,g:Rl,G:Vl,H:Ul,I:Sl,j:Nl,L:Dr,m:Yl,M:Al,p:H,q:K,Q:Xn,s:Qn,S:Fl,u:Hl,U:Ll,V:ql,w:Ol,W:Il,x:null,X:null,y:Wl,Y:Pl,Z:Bl,"%":Zn},q={a:ie,A:Ae,b:Be,B:se,c:null,d:jn,e:jn,f:Xl,g:io,G:oo,H:zl,I:jl,j:Zl,L:Sr,m:Ql,M:Gl,p:_e,q:Te,Q:Xn,s:Qn,S:Jl,u:Kl,U:$l,V:eo,w:to,W:no,x:null,X:null,y:ro,Y:lo,Z:uo,"%":Zn},J={a:j,A:me,b:oe,B:ae,c:ke,d:Vn,e:Vn,f:xl,g:Pn,G:Rn,H:Bn,I:Bn,j:wl,L:kl,m:vl,M:bl,p:Me,q:yl,Q:Cl,s:Dl,S:Ml,u:gl,U:ml,V:dl,w:hl,W:_l,x:xe,X:M,y:Pn,Y:Rn,Z:pl,"%":Tl};D.x=U(n,D),D.X=U(r,D),D.c=U(t,D),q.x=U(n,q),q.X=U(r,q),q.c=U(t,q);function U(k,x){return function(F){var d=[],Q=-1,Y=0,G=k.length,L,Ce,y;for(F instanceof Date||(F=new Date(+F));++Q<G;)k.charCodeAt(Q)===37&&(d.push(k.slice(Y,Q)),(Ce=Wn[L=k.charAt(++Q)])!=null?L=k.charAt(++Q):Ce=L==="e"?" ":"0",(y=x[L])&&(L=y(F,Ce)),d.push(L),Y=Q+1);return d.push(k.slice(Y,Q)),d.join("")}}function Z(k,x){return function(F){var d=et(1900,void 0,1),Q=le(d,k,F+="",0),Y,G;if(Q!=F.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(d.s*1e3+("L"in d?d.L:0));if(x&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+d.p*12),d.m===void 0&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(Y=Ht(et(d.y,0,1)),G=Y.getUTCDay(),Y=G>4||G===0?Ct.ceil(Y):Ct(Y),Y=rn.offset(Y,(d.V-1)*7),d.y=Y.getUTCFullYear(),d.m=Y.getUTCMonth(),d.d=Y.getUTCDate()+(d.w+6)%7):(Y=Ft(et(d.y,0,1)),G=Y.getDay(),Y=G>4||G===0?Tt.ceil(Y):Tt(Y),Y=ft.offset(Y,(d.V-1)*7),d.y=Y.getFullYear(),d.m=Y.getMonth(),d.d=Y.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),G="Z"in d?Ht(et(d.y,0,1)).getUTCDay():Ft(et(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+d.W*7-(G+5)%7:d.w+d.U*7-(G+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,Ht(d)):Ft(d)}}function le(k,x,F,d){for(var Q=0,Y=x.length,G=F.length,L,Ce;Q<Y;){if(d>=G)return-1;if(L=x.charCodeAt(Q++),L===37){if(L=x.charAt(Q++),Ce=J[L in Wn?x.charAt(Q++):L],!Ce||(d=Ce(k,F,d))<0)return-1}else if(L!=F.charCodeAt(d++))return-1}return d}function Me(k,x,F){var d=f.exec(x.slice(F));return d?(k.p=c.get(d[0].toLowerCase()),F+d[0].length):-1}function j(k,x,F){var d=m.exec(x.slice(F));return d?(k.w=p.get(d[0].toLowerCase()),F+d[0].length):-1}function me(k,x,F){var d=h.exec(x.slice(F));return d?(k.w=g.get(d[0].toLowerCase()),F+d[0].length):-1}function oe(k,x,F){var d=b.exec(x.slice(F));return d?(k.m=C.get(d[0].toLowerCase()),F+d[0].length):-1}function ae(k,x,F){var d=_.exec(x.slice(F));return d?(k.m=v.get(d[0].toLowerCase()),F+d[0].length):-1}function ke(k,x,F){return le(k,t,x,F)}function xe(k,x,F){return le(k,n,x,F)}function M(k,x,F){return le(k,r,x,F)}function X(k){return o[k.getDay()]}function A(k){return l[k.getDay()]}function ne(k){return u[k.getMonth()]}function N(k){return a[k.getMonth()]}function H(k){return i[+(k.getHours()>=12)]}function K(k){return 1+~~(k.getMonth()/3)}function ie(k){return o[k.getUTCDay()]}function Ae(k){return l[k.getUTCDay()]}function Be(k){return u[k.getUTCMonth()]}function se(k){return a[k.getUTCMonth()]}function _e(k){return i[+(k.getUTCHours()>=12)]}function Te(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var x=U(k+="",D);return x.toString=function(){return k},x},parse:function(k){var x=Z(k+="",!1);return x.toString=function(){return k},x},utcFormat:function(k){var x=U(k+="",q);return x.toString=function(){return k},x},utcParse:function(k){var x=Z(k+="",!0);return x.toString=function(){return k},x}}}var Wn={"-":"",_:" ",0:"0"},re=/^\s*\d+/,sl=/^%/,fl=/[\\^$*+?|[\]().{}]/g;function W(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",l=i.length;return r+(l<n?new Array(n-l+1).join(t)+i:i)}function cl(e){return e.replace(fl,"\\$&")}function tt(e){return new RegExp("^(?:"+e.map(cl).join("|")+")","i")}function nt(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function hl(e,t,n){var r=re.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function gl(e,t,n){var r=re.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ml(e,t,n){var r=re.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function dl(e,t,n){var r=re.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _l(e,t,n){var r=re.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Rn(e,t,n){var r=re.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Pn(e,t,n){var r=re.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pl(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yl(e,t,n){var r=re.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function vl(e,t,n){var r=re.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Vn(e,t,n){var r=re.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function wl(e,t,n){var r=re.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Bn(e,t,n){var r=re.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function bl(e,t,n){var r=re.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ml(e,t,n){var r=re.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function kl(e,t,n){var r=re.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function xl(e,t,n){var r=re.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Tl(e,t,n){var r=sl.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Cl(e,t,n){var r=re.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Dl(e,t,n){var r=re.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function zn(e,t){return W(e.getDate(),t,2)}function Ul(e,t){return W(e.getHours(),t,2)}function Sl(e,t){return W(e.getHours()%12||12,t,2)}function Nl(e,t){return W(1+ft.count(Ye(e),e),t,3)}function Dr(e,t){return W(e.getMilliseconds(),t,3)}function El(e,t){return Dr(e,t)+"000"}function Yl(e,t){return W(e.getMonth()+1,t,2)}function Al(e,t){return W(e.getMinutes(),t,2)}function Fl(e,t){return W(e.getSeconds(),t,2)}function Hl(e){var t=e.getDay();return t===0?7:t}function Ll(e,t){return W(Dt.count(Ye(e)-1,e),t,2)}function Ur(e){var t=e.getDay();return t>=4||t===0?Ke(e):Ke.ceil(e)}function ql(e,t){return e=Ur(e),W(Ke.count(Ye(e),e)+(Ye(e).getDay()===4),t,2)}function Ol(e){return e.getDay()}function Il(e,t){return W(Tt.count(Ye(e)-1,e),t,2)}function Wl(e,t){return W(e.getFullYear()%100,t,2)}function Rl(e,t){return e=Ur(e),W(e.getFullYear()%100,t,2)}function Pl(e,t){return W(e.getFullYear()%1e4,t,4)}function Vl(e,t){var n=e.getDay();return e=n>=4||n===0?Ke(e):Ke.ceil(e),W(e.getFullYear()%1e4,t,4)}function Bl(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+W(t/60|0,"0",2)+W(t%60,"0",2)}function jn(e,t){return W(e.getUTCDate(),t,2)}function zl(e,t){return W(e.getUTCHours(),t,2)}function jl(e,t){return W(e.getUTCHours()%12||12,t,2)}function Zl(e,t){return W(1+rn.count(Re(e),e),t,3)}function Sr(e,t){return W(e.getUTCMilliseconds(),t,3)}function Xl(e,t){return Sr(e,t)+"000"}function Ql(e,t){return W(e.getUTCMonth()+1,t,2)}function Gl(e,t){return W(e.getUTCMinutes(),t,2)}function Jl(e,t){return W(e.getUTCSeconds(),t,2)}function Kl(e){var t=e.getUTCDay();return t===0?7:t}function $l(e,t){return W(Cr.count(Re(e)-1,e),t,2)}function Nr(e){var t=e.getUTCDay();return t>=4||t===0?$e(e):$e.ceil(e)}function eo(e,t){return e=Nr(e),W($e.count(Re(e),e)+(Re(e).getUTCDay()===4),t,2)}function to(e){return e.getUTCDay()}function no(e,t){return W(Ct.count(Re(e)-1,e),t,2)}function ro(e,t){return W(e.getUTCFullYear()%100,t,2)}function io(e,t){return e=Nr(e),W(e.getUTCFullYear()%100,t,2)}function lo(e,t){return W(e.getUTCFullYear()%1e4,t,4)}function oo(e,t){var n=e.getUTCDay();return e=n>=4||n===0?$e(e):$e.ceil(e),W(e.getUTCFullYear()%1e4,t,4)}function uo(){return"+0000"}function Zn(){return"%"}function Xn(e){return+e}function Qn(e){return Math.floor(+e/1e3)}var je,Er,Yr;ao({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ao(e){return je=al(e),Er=je.format,Yr=je.parse,je.utcFormat,je.utcParse,je}function so(e){return new Date(e)}function fo(e){return e instanceof Date?+e:+new Date(+e)}function Ar(e,t,n,r,i,l,o,a,u,f){var c=zi(),h=c.invert,g=c.domain,m=f(".%L"),p=f(":%S"),_=f("%I:%M"),v=f("%I %p"),b=f("%a %d"),C=f("%b %d"),D=f("%B"),q=f("%Y");function J(U){return(u(U)<U?m:a(U)<U?p:o(U)<U?_:l(U)<U?v:r(U)<U?i(U)<U?b:C:n(U)<U?D:q)(U)}return c.invert=function(U){return new Date(h(U))},c.domain=function(U){return arguments.length?g(Array.from(U,fo)):g().map(so)},c.ticks=function(U){var Z=g();return e(Z[0],Z[Z.length-1],U??10)},c.tickFormat=function(U,Z){return Z==null?J:f(Z)},c.nice=function(U){var Z=g();return(!U||typeof U.range!="function")&&(U=t(Z[0],Z[Z.length-1],U??10)),U?g(ji(Z,U)):c},c.copy=function(){return Vi(c,Ar(e,t,n,r,i,l,o,a,u,f))},c}function co(){return xr.apply(Ar(ol,ul,Ye,ln,Dt,ft,nn,tn,Qe,Er).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ze(e){return function(){return e}}function ho(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new qi(t)}function go(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Fr(e){this._context=e}Fr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mo(e){return new Fr(e)}function _o(e){return e[0]}function po(e){return e[1]}function Gn(e,t){var n=Ze(!0),r=null,i=mo,l=null,o=ho(a);e=typeof e=="function"?e:e===void 0?_o:Ze(e),t=typeof t=="function"?t:t===void 0?po:Ze(t);function a(u){var f,c=(u=go(u)).length,h,g=!1,m;for(r==null&&(l=i(m=o())),f=0;f<=c;++f)!(f<c&&n(h=u[f],f,u))===g&&((g=!g)?l.lineStart():l.lineEnd()),g&&l.point(+e(h,f,u),+t(h,f,u));if(m)return l=null,m+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ze(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ze(+u),a):t},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Ze(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(l=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=l=null:l=i(r=u),a):r},a}function Hr(e){this._context=e}Hr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Jn(e),i=Jn(t),l=0,o=1;o<n;++l,++o)this._context.bezierCurveTo(r[0][l],i[0][l],r[1][l],i[1][l],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Jn(e){var t,n=e.length-1,r,i=new Array(n),l=new Array(n),o=new Array(n);for(i[0]=0,l[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,l[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,l[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/l[t-1],l[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/l[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/l[t];for(l[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-i[t+1];return[i,l]}function Kn(e){return new Hr(e)}function it(e,t,n){this.k=e,this.x=t,this.y=n}it.prototype={constructor:it,scale:function(e){return e===1?this:new it(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new it(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};it.prototype;function $n(e,t,n){const r=e.slice();return r[34]=t[n],r[36]=n,r}function er(e,t,n){const r=e.slice();return r[34]=t[n],r[36]=n,r}function tr(e,t,n){const r=e.slice();return r[38]=t[n],r[36]=n,r}function nr(e,t,n){const r=e.slice();return r[40]=t[n],r[36]=n,r}function rr(e,t,n){const r=e.slice();return r[42]=t[n],r}function ir(e){let t,n=e[42].display_title+"",r;return{c(){t=R("option"),r=$(n),this.h()},l(i){t=P(i,"OPTION",{});var l=E(t);r=ee(l,n),l.forEach(w),this.h()},h(){t.__value=e[42].display_title,t.value=t.__value},m(i,l){V(i,t,l),T(t,r)},p:qt,d(i){i&&w(t)}}}function yo(e){let t,n=lt,r=[];for(let i=0;i<n.length;i+=1)r[i]=ir(rr(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=we()},l(i){for(let l=0;l<r.length;l+=1)r[l].l(i);t=we()},m(i,l){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,l);V(i,t,l)},p(i,l){if(l&0){n=lt;let o;for(o=0;o<n.length;o+=1){const a=rr(i,n,o);r[o]?r[o].p(a,l):(r[o]=ir(a),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){Le(r,i),i&&w(t)}}}function lr(e){let t,n,r,i,l,o=(100*e[40]).toFixed(0)+"",a,u,f,c,h,g;return{c(){t=B("line"),l=B("text"),a=$(o),u=$("%"),c=B("line"),this.h()},l(m){t=z(m,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),E(t).forEach(w),l=z(m,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var p=E(l);a=ee(p,o),u=ee(p,"%"),p.forEach(w),c=z(m,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),E(c).forEach(w),this.h()},h(){s(t,"class","grid svelte-tqmeai"),s(t,"x1",40),s(t,"y1",n=e[13].bottom+e[36]*e[10]),s(t,"x2",r=e[2]-e[13].right),s(t,"y2",i=e[13].bottom+e[36]*e[10]),s(l,"class","axis-label svelte-tqmeai"),s(l,"x",e[13].left+25),s(l,"y",f=e[13].bottom+e[36]*e[10]),s(l,"text-anchor","end"),s(c,"class","grid-white svelte-tqmeai"),s(c,"x1","37"),s(c,"y1",h=e[13].bottom+e[36]*e[10]),s(c,"x2","45"),s(c,"y2",g=e[13].bottom+e[36]*e[10])},m(m,p){V(m,t,p),V(m,l,p),T(l,a),T(l,u),V(m,c,p)},p(m,p){p[0]&1024&&n!==(n=m[13].bottom+m[36]*m[10])&&s(t,"y1",n),p[0]&4&&r!==(r=m[2]-m[13].right)&&s(t,"x2",r),p[0]&1024&&i!==(i=m[13].bottom+m[36]*m[10])&&s(t,"y2",i),p[0]&16&&o!==(o=(100*m[40]).toFixed(0)+"")&&We(a,o),p[0]&1024&&f!==(f=m[13].bottom+m[36]*m[10])&&s(l,"y",f),p[0]&1024&&h!==(h=m[13].bottom+m[36]*m[10])&&s(c,"y1",h),p[0]&1024&&g!==(g=m[13].bottom+m[36]*m[10])&&s(c,"y2",g)},d(m){m&&w(t),m&&w(l),m&&w(c)}}}function or(e){let t,n=e[15](e[38])+"",r,i,l,o,a,u,f;return{c(){t=B("text"),r=$(n),o=B("line"),this.h()},l(c){t=z(c,"text",{style:!0,class:!0,x:!0,y:!0,"text-anchor":!0});var h=E(t);r=ee(h,n),h.forEach(w),o=z(c,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),E(o).forEach(w),this.h()},h(){rt(t,"white-space","pre"),s(t,"class","axis-label svelte-tqmeai"),s(t,"x",i=e[5](e[38])),s(t,"y",l=e[3]+15),s(t,"text-anchor","end"),s(o,"class","grid-white svelte-tqmeai"),s(o,"x1",a=e[5](e[38])),s(o,"y1",e[3]),s(o,"x2",u=e[5](e[38])),s(o,"y2",f=e[3]-8)},m(c,h){V(c,t,h),T(t,r),V(c,o,h)},p(c,h){h[0]&128&&n!==(n=c[15](c[38])+"")&&We(r,n),h[0]&160&&i!==(i=c[5](c[38]))&&s(t,"x",i),h[0]&8&&l!==(l=c[3]+15)&&s(t,"y",l),h[0]&160&&a!==(a=c[5](c[38]))&&s(o,"x1",a),h[0]&8&&s(o,"y1",c[3]),h[0]&160&&u!==(u=c[5](c[38]))&&s(o,"x2",u),h[0]&8&&f!==(f=c[3]-8)&&s(o,"y2",f)},d(c){c&&w(t),c&&w(o)}}}function vo(e){let t,n,r;return{c(){t=B("path"),this.h()},l(i){t=z(i,"path",{d:!0,"stroke-width":!0,stroke:!0,fill:!0}),E(t).forEach(w),this.h()},h(){s(t,"d",n=Gn().x(e[22]).y(e[23]).curve(Kn)(e[34].flat())),s(t,"stroke-width","2"),s(t,"stroke",r=e[6][e[34][0].display_title].colour),s(t,"fill","transparent")},m(i,l){V(i,t,l)},p(i,l){l[0]&554&&n!==(n=Gn().x(i[22]).y(i[23]).curve(Kn)(i[34].flat()))&&s(t,"d",n),l[0]&66&&r!==(r=i[6][i[34][0].display_title].colour)&&s(t,"stroke",r)},d(i){i&&w(t)}}}function ur(e){let t,n=e[12]&&vo(e);return{c(){n&&n.c(),t=we()},l(r){n&&n.l(r),t=we()},m(r,i){n&&n.m(r,i),V(r,t,i)},p(r,i){r[12]&&n.p(r,i)},d(r){n&&n.d(r),r&&w(t)}}}function ar(e){let t,n,r,i,l,o,a,u,f;function c(...m){return e[24](e[34],...m)}function h(...m){return e[25](e[34],...m)}function g(...m){return e[26](e[34],...m)}return a=new kn({props:{labels:e[34][0].display_title,values:Math.floor(e[34].find(h).rolling_avg*100)+"%",x:e[8].x+180>e[2]?e[8].x-195:e[8].x+15,y:e[14](e[9],e[3],e[34][0].display_title,e[8].x,e[34].find(g).rolling_avg),backgroundColor:e[6][e[34][0].display_title].colour,textColor:e[6][e[34][0].display_title].text,title:void 0,width:"180",adaptTexts:!1}}),u=new kn({props:{labels:"Week of",values:e[18](e[0],e[8].x).toLocaleString(void 0,e[11]),title:void 0,x:e[8].x+180>e[2]?e[8].x-195:e[8].x+15,y:0,backgroundColor:"#191919",opacity:"0.5",textColor:"white",width:"200",adaptTexts:!1}}),{c(){t=B("g"),n=B("line"),r=B("circle"),_t(a.$$.fragment),_t(u.$$.fragment),this.h()},l(m){t=z(m,"g",{transform:!0});var p=E(t);n=z(p,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),E(n).forEach(w),r=z(p,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),E(r).forEach(w),p.forEach(w),pt(a.$$.fragment,m),pt(u.$$.fragment,m),this.h()},h(){s(n,"x1",0),s(n,"y1","10"),s(n,"x2",0),s(n,"y2",e[3]),s(n,"stroke","grey"),s(n,"stroke-width","1"),s(r,"cx",0),s(r,"cy",i=zt(e[9],e[3],e[34].find(c).rolling_avg)+e[13].bottom),s(r,"r","5"),s(r,"fill",l=e[6][e[34][0].display_title].colour),s(t,"transform",o="translate("+e[5](e[18](e[34],e[8].x))+" 0)")},m(m,p){V(m,t,p),T(t,n),T(t,r),yt(a,m,p),yt(u,m,p),f=!0},p(m,p){e=m,(!f||p[0]&8)&&s(n,"y2",e[3]),(!f||p[0]&778&&i!==(i=zt(e[9],e[3],e[34].find(c).rolling_avg)+e[13].bottom))&&s(r,"cy",i),(!f||p[0]&66&&l!==(l=e[6][e[34][0].display_title].colour))&&s(r,"fill",l),(!f||p[0]&290&&o!==(o="translate("+e[5](e[18](e[34],e[8].x))+" 0)"))&&s(t,"transform",o);const _={};p[0]&2&&(_.labels=e[34][0].display_title),p[0]&258&&(_.values=Math.floor(e[34].find(h).rolling_avg*100)+"%"),p[0]&260&&(_.x=e[8].x+180>e[2]?e[8].x-195:e[8].x+15),p[0]&778&&(_.y=e[14](e[9],e[3],e[34][0].display_title,e[8].x,e[34].find(g).rolling_avg)),p[0]&66&&(_.backgroundColor=e[6][e[34][0].display_title].colour),p[0]&66&&(_.textColor=e[6][e[34][0].display_title].text),a.$set(_);const v={};p[0]&257&&(v.values=e[18](e[0],e[8].x).toLocaleString(void 0,e[11])),p[0]&260&&(v.x=e[8].x+180>e[2]?e[8].x-195:e[8].x+15),u.$set(v)},i(m){f||(pe(a.$$.fragment,m),pe(u.$$.fragment,m),f=!0)},o(m){Ue(a.$$.fragment,m),Ue(u.$$.fragment,m),f=!1},d(m){m&&w(t),vt(a,m),vt(u,m)}}}function sr(e){let t,n,r=e[8].x!==null&&ar(e);return{c(){r&&r.c(),t=we()},l(i){r&&r.l(i),t=we()},m(i,l){r&&r.m(i,l),V(i,t,l),n=!0},p(i,l){i[8].x!==null?r?(r.p(i,l),l[0]&256&&pe(r,1)):(r=ar(i),r.c(),pe(r,1),r.m(t.parentNode,t)):r&&(mr(),Ue(r,1,1,()=>{r=null}),gr())},i(i){n||(pe(r),n=!0)},o(i){Ue(r),n=!1},d(i){r&&r.d(i),i&&w(t)}}}function wo(e){let t,n,r,i,l,o,a,u,f,c,h,g,m,p,_,v,b,C,D,q,J,U,Z,le,Me,j,me,oe,ae,ke,xe,M,X,A,ne,N,H,K,ie,Ae,Be,se,_e,Te;t=new Vr({}),M=new Xr({props:{id:"options-cities",value:["Toronto, ON","Chicago, IL","Detroit, MI","Baltimore, MD","New York, NY","Los Angeles, CA","San Francisco, CA","Atlanta, GA","Miami, FL","Austin, TX","Las Vegas, NV"],$$slots:{default:[yo]},$$scope:{ctx:e}}});let k=e[4].reverse(),x=[];for(let y=0;y<k.length;y+=1)x[y]=lr(nr(e,k,y));let F=e[7],d=[];for(let y=0;y<F.length;y+=1)d[y]=or(tr(e,F,y));let Q=e[1],Y=[];for(let y=0;y<Q.length;y+=1)Y[y]=ur(er(e,Q,y));let G=e[1],L=[];for(let y=0;y<G.length;y+=1)L[y]=sr($n(e,G,y));const Ce=y=>Ue(L[y],1,1,()=>{L[y]=null});return{c(){_t(t.$$.fragment),n=ce(),r=R("main"),i=R("div"),l=R("h1"),o=$("Downtown Recovery Patterns"),a=ce(),u=R("p"),f=$("The recovery metrics on these charts are based on a sample of mobile phone data."),c=ce(),h=R("p"),g=$("They are computed by counting the number of unique mobile phones in a city's downtown area in the specified time period, and then dividing it by the number of unique visitors during the equivalent time period in 2019."),m=ce(),p=R("p"),_=$("A recovery metric greater than 100% means that for the selected inputs, the mobile device activity increased relative to the comparison period. A value less than 100% means the opposite, that the city's downtown has not recovered to pre-COVID activity levels."),v=ce(),b=R("p"),C=$("For more information, read our "),D=R("a"),q=$("Methodology"),J=$(" page. Or click "),U=R("a"),Z=$("here"),le=$(" to download the data shown on this chart."),Me=ce(),j=R("div"),me=R("div"),oe=R("div"),ae=R("p"),ke=$("Select City:"),xe=ce(),_t(M.$$.fragment),X=ce(),A=B("svg");for(let y=0;y<x.length;y+=1)x[y].c();ne=B("line"),H=B("line");for(let y=0;y<d.length;y+=1)d[y].c();K=we();for(let y=0;y<Y.length;y+=1)Y[y].c();ie=we();for(let y=0;y<L.length;y+=1)L[y].c();this.h()},l(y){pt(t.$$.fragment,y),n=he(y),r=P(y,"MAIN",{class:!0});var O=E(r);i=P(O,"DIV",{class:!0});var I=E(i);l=P(I,"H1",{});var S=E(l);o=ee(S,"Downtown Recovery Patterns"),S.forEach(w),a=he(I),u=P(I,"P",{});var fe=E(u);f=ee(fe,"The recovery metrics on these charts are based on a sample of mobile phone data."),fe.forEach(w),c=he(I),h=P(I,"P",{});var on=E(h);g=ee(on,"They are computed by counting the number of unique mobile phones in a city's downtown area in the specified time period, and then dividing it by the number of unique visitors during the equivalent time period in 2019."),on.forEach(w),m=he(I),p=P(I,"P",{});var un=E(p);_=ee(un,"A recovery metric greater than 100% means that for the selected inputs, the mobile device activity increased relative to the comparison period. A value less than 100% means the opposite, that the city's downtown has not recovered to pre-COVID activity levels."),un.forEach(w),v=he(I),b=P(I,"P",{});var ze=E(b);C=ee(ze,"For more information, read our "),D=P(ze,"A",{href:!0});var an=E(D);q=ee(an,"Methodology"),an.forEach(w),J=ee(ze," page. Or click "),U=P(ze,"A",{href:!0});var sn=E(U);Z=ee(sn,"here"),sn.forEach(w),le=ee(ze," to download the data shown on this chart."),ze.forEach(w),I.forEach(w),Me=he(O),j=P(O,"DIV",{id:!0,class:!0});var ct=E(j);me=P(ct,"DIV",{id:!0,class:!0});var fn=E(me);oe=P(fn,"DIV",{id:!0,class:!0});var ht=E(oe);ae=P(ht,"P",{});var cn=E(ae);ke=ee(cn,"Select City:"),cn.forEach(w),xe=he(ht),pt(M.$$.fragment,ht),ht.forEach(w),fn.forEach(w),X=he(ct),A=z(ct,"svg",{height:!0,width:!0,id:!0,transform:!0,class:!0});var Fe=E(A);for(let ue=0;ue<x.length;ue+=1)x[ue].l(Fe);ne=z(Fe,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),E(ne).forEach(w),H=z(Fe,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),E(H).forEach(w);for(let ue=0;ue<d.length;ue+=1)d[ue].l(Fe);K=we();for(let ue=0;ue<Y.length;ue+=1)Y[ue].l(Fe);ie=we();for(let ue=0;ue<L.length;ue+=1)L[ue].l(Fe);Fe.forEach(w),ct.forEach(w),O.forEach(w),this.h()},h(){s(D,"href",fr+"/methodology"),s(U,"href",fr+"/pattern_data.csv"),s(i,"class","text"),s(oe,"id","options-cities"),s(oe,"class","svelte-tqmeai"),s(me,"id","options"),s(me,"class","svelte-tqmeai"),s(ne,"x1",e[13].left+40),s(ne,"x2",N=e[2]-e[13].right),s(ne,"y1",e[3]),s(ne,"y2",e[3]),s(ne,"stroke","white"),s(ne,"stroke-width","1"),s(H,"x1",e[13].left+40),s(H,"x2",e[13].left+40),s(H,"y1",e[13].top),s(H,"y2",e[3]),s(H,"stroke","white"),s(H,"stroke-width","1"),s(A,"height",Ae=e[3]+40),s(A,"width",e[2]),s(A,"id","chart"),s(A,"transform","translate("+e[13].left+", "+e[13].top+")"),s(A,"class","svelte-tqmeai"),s(j,"id","chart-wrapper"),s(j,"class","svelte-tqmeai"),Rr(()=>e[27].call(j)),s(r,"class","svelte-tqmeai")},m(y,O){yt(t,y,O),V(y,n,O),V(y,r,O),T(r,i),T(i,l),T(l,o),T(i,a),T(i,u),T(u,f),T(i,c),T(i,h),T(h,g),T(i,m),T(i,p),T(p,_),T(i,v),T(i,b),T(b,C),T(b,D),T(D,q),T(b,J),T(b,U),T(U,Z),T(b,le),T(r,Me),T(r,j),T(j,me),T(me,oe),T(oe,ae),T(ae,ke),T(oe,xe),yt(M,oe,null),T(j,X),T(j,A);for(let I=0;I<x.length;I+=1)x[I]&&x[I].m(A,null);T(A,ne),T(A,H);for(let I=0;I<d.length;I+=1)d[I]&&d[I].m(A,null);T(A,K);for(let I=0;I<Y.length;I+=1)Y[I]&&Y[I].m(A,null);T(A,ie);for(let I=0;I<L.length;I+=1)L[I]&&L[I].m(A,null);Be=Pr(j,e[27].bind(j)),se=!0,_e||(Te=[Oe(A,"mousemove",e[16]),Oe(A,"mouseleave",e[17])],_e=!0)},p(y,O){const I={};if(O[1]&16384&&(I.$$scope={dirty:O,ctx:y}),M.$set(I),O[0]&9236){k=y[4].reverse();let S;for(S=0;S<k.length;S+=1){const fe=nr(y,k,S);x[S]?x[S].p(fe,O):(x[S]=lr(fe),x[S].c(),x[S].m(A,ne))}for(;S<x.length;S+=1)x[S].d(1);x.length=k.length}if((!se||O[0]&4&&N!==(N=y[2]-y[13].right))&&s(ne,"x2",N),(!se||O[0]&8)&&s(ne,"y1",y[3]),(!se||O[0]&8)&&s(ne,"y2",y[3]),(!se||O[0]&8)&&s(H,"y2",y[3]),O[0]&32936){F=y[7];let S;for(S=0;S<F.length;S+=1){const fe=tr(y,F,S);d[S]?d[S].p(fe,O):(d[S]=or(fe),d[S].c(),d[S].m(A,K))}for(;S<d.length;S+=1)d[S].d(1);d.length=F.length}if(O[0]&12906){Q=y[1];let S;for(S=0;S<Q.length;S+=1){const fe=er(y,Q,S);Y[S]?Y[S].p(fe,O):(Y[S]=ur(fe),Y[S].c(),Y[S].m(A,ie))}for(;S<Y.length;S+=1)Y[S].d(1);Y.length=Q.length}if(O[0]&289647){G=y[1];let S;for(S=0;S<G.length;S+=1){const fe=$n(y,G,S);L[S]?(L[S].p(fe,O),pe(L[S],1)):(L[S]=sr(fe),L[S].c(),pe(L[S],1),L[S].m(A,null))}for(mr(),S=G.length;S<L.length;S+=1)Ce(S);gr()}(!se||O[0]&8&&Ae!==(Ae=y[3]+40))&&s(A,"height",Ae),(!se||O[0]&4)&&s(A,"width",y[2])},i(y){if(!se){pe(t.$$.fragment,y),pe(M.$$.fragment,y);for(let O=0;O<G.length;O+=1)pe(L[O]);se=!0}},o(y){Ue(t.$$.fragment,y),Ue(M.$$.fragment,y),L=L.filter(Boolean);for(let O=0;O<L.length;O+=1)Ue(L[O]);se=!1},d(y){vt(t,y),y&&w(n),y&&w(r),vt(M),Le(x,y),Le(d,y),Le(Y,y),Le(L,y),Be(),_e=!1,hr(Te)}}}const fr="/downtown-recovery";function cr(e,t){let n=[];for(let r=0;r<=Math.ceil(e/t);r++)n.push(r*t);return n}function zt(e,t,n){return t-t*n/(e[1]-e[0])}function bo(e,t,n){let r,i,l,o;Lt(e,_r,N=>n(21,l=N)),Lt(e,dr,N=>n(29,o=N));let a=[],u=[],f={year:"numeric",month:"long",day:"numeric"},c=[],h=[];lt.forEach(N=>{o.forEach(H=>{N.region===H.name&&n(6,c[N.display_title]={colour:H.colour,text:H.text},c)})});const g=o,m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];async function p(){try{const H=await(await fetch("../pattern_data.csv")).text();n(0,a=Br(H).filter(K=>!["Dallas, TX","Orlando, FL","Oklahoma City, OK"].includes(K.display_title))),a.forEach(K=>{K.week=Yr("%Y-%m-%d")(K.week),K.week=new Date(K.week)})}catch(N){console.error("Error loading CSV data:",N)}}Qt(()=>{p()}),console.log(h);let _={top:10,bottom:40,left:10,right:30},v,b=640,C=1,D=[0,1],q,J;function U(N){return Ut(N.map(H=>H.week))}function Z(N,H,K,ie,Ae){u.length;let Be=Ut(u.flat().filter(x=>q(x.week)>=ie).map(x=>x.week)),se=u.flat().filter(x=>x.week<=Be[0]&&q(x.week)>=ie).sort((x,F)=>F.rolling_avg-x.rolling_avg);var _e=[];se.forEach(x=>_e.push(x));for(var Te=0;Te<_e.length;Te++)_e[Te].rank=30+(Te+1)*30;return Tr().domain(_e.map(x=>x.display_title)).range(_e.map(x=>x.rank))(K)}let le;function Me(N){return m[N.getMonth()]+`
20`+N.getYear().toString().substring(N.getYear(),1)}let j={x:null,y:null};function me(N){const H=document.getElementById("chart");if(H===null)return;const K=H.getBoundingClientRect(),ie={x:N.clientX-K.left,y:N.clientY-K.top};n(8,j=ie.x>_.left&&ie.x<v-_.right&&ie.y>_.top&&ie.y<b-_.bottom?{x:ie.x,y:ie.y}:{x:null,y:null})}function oe(){n(8,j={x:null,y:null})}function ae(N,H){return N.filter(K=>q(K.week)>=H)[0].week}const ke=N=>q(N.week),xe=N=>zt(i,b,N.rolling_avg)+_.bottom,M=(N,H)=>H.week===ae(N,j.x),X=(N,H)=>H.week===ae(N,j.x),A=(N,H)=>H.week===ae(N,j.x);function ne(){v=this.offsetWidth,n(2,v)}return e.$$.update=()=>{e.$$.dirty[0]&2097153&&n(1,u=Array.from(oi(a.filter(N=>N.metric==="downtown"&&l.includes(N.display_title)).sort((N,H)=>N.week-H.week),N=>N.display_title)).map(N=>N[1])),e.$$.dirty[0]&1&&(h=Ut(a.filter(N=>N.metric==="downtown").sort((N,H)=>N.rolling_avg-H.rolling_avg).map(N=>1*N.rolling_avg))),e.$$.dirty[0]&4&&n(3,b=v*.666),e.$$.dirty[0]&2&&n(19,C=u.length!==0?u.flat().sort((N,H)=>H.rolling_avg-N.rolling_avg)[0].rolling_avg:1),e.$$.dirty[0]&524288&&n(19,C=C<1?1:C),e.$$.dirty[0]&524288&&(C<2?n(4,D=cr(C,.2)):n(4,D=cr(C,.5))),e.$$.dirty[0]&24&&n(10,r=(b-_.bottom)/(D.length-1)),e.$$.dirty[0]&16&&n(9,i=[Math.min(...D),Math.max(...D)]),e.$$.dirty[0]&1&&console.log(a),e.$$.dirty[0]&5&&n(5,q=co().domain(U(a)).range([_.left+40,v-_.right])),e.$$.dirty[0]&4&&n(20,le=Math.floor(v/120)),e.$$.dirty[0]&1048576&&console.log(le),e.$$.dirty[0]&1048608&&n(7,J=q.ticks(le)),e.$$.dirty[0]&1&&console.log(U(a))},[a,u,v,b,D,q,c,J,j,i,r,f,g,_,Z,Me,me,oe,ae,C,le,l,ke,xe,M,X,A,ne]}class Co extends jt{constructor(t){super(),Zt(this,t,bo,wo,Xt,{},null,[-1,-1])}}export{Co as component,To as universal};
